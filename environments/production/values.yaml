# CrewUp Production Environment
# Manually promoted from staging after validation

# Global settings
namespace: crewup-production
imageRegistry: ghcr.io/titouanpastor
imagePullPolicy: Always
environment: production

# Domain and SSL configuration
domain: crewup.ltu-m7011e-3.se
email: titpas-5@student.ltu.se

# Keycloak configuration
keycloak:
  url: https://keycloak.ltu-m7011e-3.se
  realm: crewup
  clientId: crewup-production

# PostgreSQL Database
postgres:
  enabled: true
  version: "15"
  database: crewup
  user: crewup
  password: "crewup_production_password_CHANGE_ME"  # Not used when externalSecret=true
  externalSecret: true  # Secret managed manually outside of Helm/ArgoCD
  storage: 20Gi  # Production storage

# API Services - High Availability
services:
  event:
    enabled: true
    replicas: 3  # HA for production
    port: 8000
    imageTag: "latest"
    
  group:
    enabled: true
    replicas: 3
    port: 8000
    imageTag: "latest"
    
  rating:
    enabled: true
    replicas: 2
    port: 8000
    imageTag: "latest"
    
  safety:
    enabled: true
    replicas: 2
    port: 8000
    imageTag: "latest"
    
  user:
    enabled: true
    replicas: 3
    port: 8000
    imageTag: "latest"

  moderation:
    enabled: true
    replicas: 2
    port: 8000
    imageTag: "latest"

# Frontend - High Availability
frontend:
  enabled: true
  replicas: 3
  port: 80
  imageTag: "3c91201"
  image: crewup-frontend

# Redis for WebSocket synchronization (required for multi-replica chat)
redis:
  enabled: true
  host: redis
  port: 6379

# Ingress Settings
ingress:
  enabled: true
  className: traefik
  certIssuer: letsencrypt-prod  # Production certificates
