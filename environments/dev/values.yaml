# CrewUp Development Environment
# Auto-deployed on every push to main

# Global settings
namespace: crewup-dev
imageRegistry: ghcr.io/titouanpastor
imagePullPolicy: Always
environment: dev

# Domain and SSL configuration
domain: crewup-dev.ltu-m7011e-3.se
email: titpas-5@student.ltu.se

# Keycloak configuration
keycloak:
  url: https://keycloak.ltu-m7011e-3.se
  realm: crewup
  clientId: crewup-dev

# PostgreSQL Database
postgres:
  enabled: true
  version: "15"
  database: crewup
  user: crewup
  password: "crewup_dev_password"
  storage: 5Gi

# API Services
services:
  event:
    enabled: true
    replicas: 1
    port: 8000
    imageTag: "dcf5f01"
    
  group:
    enabled: true
    replicas: 1
    port: 8000
    imageTag: "4ed02a4"
    
  rating:
    enabled: true
    replicas: 1
    port: 8000
    imageTag: "dcf5f01"
    
  safety:
    enabled: true
    replicas: 1
    port: 8000
    imageTag: "dcf5f01"
    
  user:
    enabled: true
    replicas: 1
    port: 8000
    imageTag: "584f93e"

  moderation:
    enabled: true
    replicas: 1
    port: 8000
    imageTag: "584f93e"

# Frontend
frontend:
  enabled: true
  replicas: 1
  port: 80
  imageTag: "2a18361"
  image: crewup-frontend

# Redis for WebSocket synchronization (required for multi-replica chat)
redis:
  enabled: true
  host: redis
  port: 6379

# Ingress Settings
ingress:
  enabled: true
  className: traefik
  certIssuer: letsencrypt-staging  # Use staging for dev to avoid rate limits
